{"ast":null,"code":"var _jsxFileName = \"/Users/rohansawant/Personal/Study/learning-frontend/ReactJs/login-page/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport USERS_DUMMY from \"../users\";\nimport PopUpCard from \"./PopUpCard\";\nimport LoginForm from \"./LoginForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [isLoggedIn, setLogIn] = useState(false);\n  const [error, setError] = useState();\n  const [loggedInUser, setLoggedInUser] = useState();\n  function toggleLoggedIn() {\n    if (isLoggedIn) return setLogIn(false);\n    return setLogIn(true);\n  }\n  function errConfirmed() {\n    return setError();\n  }\n  function errorHandler(err) {\n    return setError(err);\n  }\n  function logOutUser() {\n    setLogIn(false);\n    setLoggedInUser();\n    return;\n  }\n  function authenticateUser(userDetails) {\n    const {\n      userName,\n      password\n    } = userDetails;\n    let u = USERS_DUMMY.find(user => {\n      if (user.username === userName) return user;\n      return;\n    });\n    if (!u || u && u.password !== password) return errorHandler({\n      msg: \"Invalid username or password\"\n    });\n    setLogIn(true);\n    const {\n      firstName,\n      lastName,\n      email,\n      image\n    } = u;\n    setLoggedInUser({\n      firstName,\n      lastName,\n      email,\n      image\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error ? /*#__PURE__*/_jsxDEV(PopUpCard, {\n      message: error.msg,\n      onConfirm: errConfirmed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(LoginForm, {\n      onSubmit: authenticateUser,\n      onError: errorHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(PopUpCard, {\n      header: setLoggedInUser.image,\n      message: `Hi there ${loggedInUser.firstName}. You are logged in with ${loggedInUser.email}`,\n      onConfirm: logOutUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"dQ6YJdiA4z99y4F0GuktFTOE+2Y=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","USERS_DUMMY","PopUpCard","LoginForm","jsxDEV","_jsxDEV","Login","_s","isLoggedIn","setLogIn","error","setError","loggedInUser","setLoggedInUser","toggleLoggedIn","errConfirmed","errorHandler","err","logOutUser","authenticateUser","userDetails","userName","password","u","find","user","username","msg","firstName","lastName","email","image","children","message","onConfirm","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onError","header","_c","$RefreshReg$"],"sources":["/Users/rohansawant/Personal/Study/learning-frontend/ReactJs/login-page/src/components/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport USERS_DUMMY from \"../users\";\nimport PopUpCard from \"./PopUpCard\";\nimport LoginForm from \"./LoginForm\";\nfunction Login() {\n  const [isLoggedIn, setLogIn] = useState(false);\n  const [error, setError] = useState();\n  const [loggedInUser, setLoggedInUser] = useState();\n  function toggleLoggedIn() {\n    if (isLoggedIn) return setLogIn(false);\n    return setLogIn(true);\n  }\n\n  function errConfirmed() {\n    return setError();\n  }\n\n  function errorHandler(err) {\n    return setError(err);\n  }\n\n  function logOutUser() {\n    setLogIn(false);\n    setLoggedInUser();\n    return;\n  }\n\n  function authenticateUser(userDetails) {\n    const { userName, password } = userDetails;\n    let u = USERS_DUMMY.find((user) => {\n      if (user.username === userName) return user;\n      return;\n    });\n    if (!u || (u && u.password !== password))\n      return errorHandler({ msg: \"Invalid username or password\" });\n    setLogIn(true);\n    const { firstName, lastName, email, image } = u;\n    setLoggedInUser({ firstName, lastName, email, image });\n  }\n\n  return (\n    <div>\n      {error ? (\n        <PopUpCard message={error.msg} onConfirm={errConfirmed} />\n      ) : null}\n      <LoginForm onSubmit={authenticateUser} onError={errorHandler} />\n      {isLoggedIn ? (\n        <PopUpCard\n          header={setLoggedInUser.image}\n          message={`Hi there ${loggedInUser.firstName}. You are logged in with ${loggedInUser.email}`}\n          onConfirm={logOutUser}\n        ></PopUpCard>\n      ) : null}\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,UAAU;AAClC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACpC,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAM,CAACC,UAAU,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC9C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,EAAE;EACpC,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,EAAE;EAClD,SAASc,cAAcA,CAAA,EAAG;IACxB,IAAIN,UAAU,EAAE,OAAOC,QAAQ,CAAC,KAAK,CAAC;IACtC,OAAOA,QAAQ,CAAC,IAAI,CAAC;EACvB;EAEA,SAASM,YAAYA,CAAA,EAAG;IACtB,OAAOJ,QAAQ,EAAE;EACnB;EAEA,SAASK,YAAYA,CAACC,GAAG,EAAE;IACzB,OAAON,QAAQ,CAACM,GAAG,CAAC;EACtB;EAEA,SAASC,UAAUA,CAAA,EAAG;IACpBT,QAAQ,CAAC,KAAK,CAAC;IACfI,eAAe,EAAE;IACjB;EACF;EAEA,SAASM,gBAAgBA,CAACC,WAAW,EAAE;IACrC,MAAM;MAAEC,QAAQ;MAAEC;IAAS,CAAC,GAAGF,WAAW;IAC1C,IAAIG,CAAC,GAAGtB,WAAW,CAACuB,IAAI,CAAEC,IAAI,IAAK;MACjC,IAAIA,IAAI,CAACC,QAAQ,KAAKL,QAAQ,EAAE,OAAOI,IAAI;MAC3C;IACF,CAAC,CAAC;IACF,IAAI,CAACF,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAACD,QAAQ,KAAKA,QAAS,EACtC,OAAON,YAAY,CAAC;MAAEW,GAAG,EAAE;IAA+B,CAAC,CAAC;IAC9DlB,QAAQ,CAAC,IAAI,CAAC;IACd,MAAM;MAAEmB,SAAS;MAAEC,QAAQ;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAGR,CAAC;IAC/CV,eAAe,CAAC;MAAEe,SAAS;MAAEC,QAAQ;MAAEC,KAAK;MAAEC;IAAM,CAAC,CAAC;EACxD;EAEA,oBACE1B,OAAA;IAAA2B,QAAA,GACGtB,KAAK,gBACJL,OAAA,CAACH,SAAS;MAAC+B,OAAO,EAAEvB,KAAK,CAACiB,GAAI;MAACO,SAAS,EAAEnB;IAAa;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,GACxD,IAAI,eACRjC,OAAA,CAACF,SAAS;MAACoC,QAAQ,EAAEpB,gBAAiB;MAACqB,OAAO,EAAExB;IAAa;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,EAC/D9B,UAAU,gBACTH,OAAA,CAACH,SAAS;MACRuC,MAAM,EAAE5B,eAAe,CAACkB,KAAM;MAC9BE,OAAO,EAAG,YAAWrB,YAAY,CAACgB,SAAU,4BAA2BhB,YAAY,CAACkB,KAAM,EAAE;MAC5FI,SAAS,EAAEhB;IAAW;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACX,GACX,IAAI;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEV;AAAC/B,EAAA,CAnDQD,KAAK;AAAAoC,EAAA,GAALpC,KAAK;AAqDd,eAAeA,KAAK;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}